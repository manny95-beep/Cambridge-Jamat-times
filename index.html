<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cambridge Jamat Times</title>
<style>

    body {

      font-family: Arial, sans-serif;

      background: #f4f4f4;

      color: #333;

      margin: 0;

      padding: 20px;

    }

    h1 {

      text-align: center;

    }

    .date {

      text-align: center;

      margin-bottom: 30px;

      font-size: 20px;

    }

    .mosque {

      background: white;

      padding: 15px;

      border-radius: 6px;

      margin-bottom: 15px;

      box-shadow: 0 1px 3px rgba(0,0,0,0.1);

    }

    .mosque h2 {

      margin: 0 0 10px 0;

      color: #00796b;

    }
</style>
</head>
<body>
    <div id="prayer-times"></div>

<script>
// JavaScript code that fetches prayer times from Google Sheets
const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS_7eZo7CyIssKS69UcktG__1SsJr00VPTxbYxfazu05DzD8-K_UWpI6lYdKE2XYlU3Q7bDBxz8XHXv/pub?gid=0&single=true&output=csv';

fetch(sheetUrl)
  .then(response => response.text())
  .then(csv => {
    const lines = csv.split('\\n');
    const headers = lines[0].split(',');
    const container = document.getElementById('prayer-times');
    container.innerHTML = `<h2>Prayer Times</h2>`;

    for (let i = 1; i < lines.length; i++) {
      const row = lines[i].split(',');
      if (row.length < 6) continue;

      const mosqueName = row[0];
      const times = headers.slice(1).map((h, idx) => `<li><strong>${h}:</strong> ${row[idx + 1]}</li>`).join('');

      container.innerHTML += `<h3>${mosqueName}</h3><ul>${times}</ul>`;
    }
  })
  .catch(error => {
    document.getElementById('prayer-times').innerText = 'Could not load prayer times.';
    console.error('Error:', error);
  });
</script>
<h1>Cambridge Jamat Times</h1>
<div class="date" id="today-date"></div>
<div class="mosque">
<h2>Omar Faruque Mosque</h2>
<p>Loading today's jamat times...</p>
<a href="https://www.omarfaruquemosque.org.uk/index.php?section=1" target="_blank">View mosque site</a>
</div>
<div class="mosque">
<h2>Cambridge Central Mosque</h2>
<p>Loading today's jamat times...</p>
<a href="https://cambridgecentralmosque.org/" target="_blank">View mosque site</a>
</div>
<div class="mosque">
<h2>Abu Bakr Mosque (Cambridge Mosque)</h2>
<p>Loading today's jamat times...</p>
<a href="https://www.cambridgemosque.com/" target="_blank">View mosque site</a>
</div>
<div class="mosque">
<h2>Cambridge Islamic Centre</h2>
<p>Loading today's jamat times...</p>
<a href="https://cambridgeislamiccentre.org/" target="_blank">View mosque site</a>
</div>
<script>

    // Show today's date

    const today = new Date();

    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };

    document.getElementById('today-date').textContent = today.toLocaleDateString('en-GB', options);
</script>
</body>
</html>
<div id="prayer-times"></div>

<script>
fetch('jamat_times.json')
  .then(response => response.json())
  .then(data => {
    const container = document.getElementById('prayer-times');
    container.innerHTML = `<h2>Prayer Times for ${data.date}</h2>`;
    
    data.mosques.forEach(mosque => {
      const timesList = Object.entries(mosque.times)
        .map(([prayer, time]) => `<li><strong>${prayer}:</strong> ${time}</li>`)
        .join('');
      
      container.innerHTML += `
        <h3>${mosque.mosque}</h3>
        <ul>${timesList}</ul>
      `;
    });
  })
  .catch(error => {
    document.getElementById('prayer-times').innerText = 'Could not load prayer times.';
    console.error('Error loading prayer times:', error);
  });
</script>
 <div id="prayer-times"></div>

<script>
const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS_7eZo7CyIssKS69UcktG__1SsJr00VPTxbYxfazu05DzD8-K_UWpI6lYdKE2XYlU3Q7bDBxz8XHXv/pub?gid=0&single=true&output=csv';

fetch(sheetUrl)
  .then(response => response.text())
  .then(csv => {
    const lines = csv.split('\n');
    const headers = lines[0].split(',');
    const container = document.getElementById('prayer-times');
    container.innerHTML = `<h2>Prayer Times</h2>`;

    for (let i = 1; i < lines.length; i++) {
      const row = lines[i].split(',');
      if (row.length < 6) continue;

      const mosqueName = row[0];
      const times = headers.slice(1).map((h, idx) => `<li><strong>${h}:</strong> ${row[idx + 1]}</li>`).join('');

      container.innerHTML += `<h3>${mosqueName}</h3><ul>${times}</ul>`;
    }
  })
  .catch(error => {
    document.getElementById('prayer-times').innerText = 'Could not load prayer times.';
    console.error('Error:', error);
  });
</script>




